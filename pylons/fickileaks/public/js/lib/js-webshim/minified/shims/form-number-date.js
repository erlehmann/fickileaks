jQuery.webshims.register("forms-ext",function(c,k){if(!(Modernizr.input.valueAsNumberSet&&Modernizr.input.valueAsDate)){k.getStep=function(a,h){var f=c.attr(a,"step");if(f==="any")return f;h=h||p(a);if(!l[h]||!l[h].step)return f;f=s.number.asNumber(f);return(!isNaN(f)&&f>0?f:l[h].step)*l[h].stepScaleFactor};k.addMinMaxNumberToCache=function(a,h,f){if(!(a+"AsNumber"in f)){f[a+"AsNumber"]=l[f.type].asNumber(h.attr(a));if(isNaN(f[a+"AsNumber"])&&a+"Default"in l[f.type])f[a+"AsNumber"]=l[f.type][a+"Default"]}};
var t=parseInt("NaN",10),l=k.inputTypes,r=function(a){return typeof a=="number"||a&&a==a*1},w=function(a){return Modernizr.input.valueAsNumber&&c('<input type="'+a+'" />').attr("type")===a},p=function(a){return(a.getAttribute("type")||"").toLowerCase()},y=k.addMinMaxNumberToCache,x=function(a,h){a=""+a;h-=a.length;for(var f=0;f<h;f++)a="0"+a;return a};if(!Modernizr.input.valueAsNumber||!Modernizr.input.valueAsDate){k.addValidityRule("stepMismatch",function(a,h,f){if(h==="")return false;if(!("type"in
f))f.type=p(a[0]);if(f.type=="date")return false;var m=false;if(l[f.type]&&l[f.type].step){if(!("step"in f))f.step=k.getStep(a[0],f.type);if(f.step=="any")return false;if(!("valueAsNumber"in f))f.valueAsNumber=l[f.type].asNumber(h);if(isNaN(f.valueAsNumber))return false;y("min",a,f);a=f.minAsNumber;if(isNaN(a))a=l[f.type].stepBase||0;m=Math.abs((f.valueAsNumber-a)%f.step);m=!(m<=1.0E-7||Math.abs(m-f.step)<=1.0E-7)}return m});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",
factor:-1}].forEach(function(a){k.addValidityRule(a.name,function(h,f,m){var u=false;if(f==="")return u;if(!("type"in m))m.type=p(h[0]);if(l[m.type]&&l[m.type].asNumber){if(!("valueAsNumber"in m))m.valueAsNumber=l[m.type].asNumber(f);if(isNaN(m.valueAsNumber))return false;y(a.attr,h,m);if(isNaN(m[a.attr+"AsNumber"]))return u;u=m[a.attr+"AsNumber"]*a.factor<m.valueAsNumber*a.factor-1.0E-7}return u})})}k.defineNodeNameProperty("input","type",{get:function(){var a=p(this);return k.inputTypes[a]?a:this.type||
this.getAttribute("type")}});var z=k.defineNodeNameProperty("input","valueAsNumber",{get:function(){var a=p(this);return l[a]&&l[a].asNumber?l[a].asNumber(c.attr(this,"value")):t},set:function(a){var h=p(this);if(l[h]&&l[h].numberToString)if(isNaN(a))c.attr(this,"value","");else{h=l[h].numberToString(a);h!==false?c.attr(this,"value",h):k.warn("INVALID_STATE_ERR: DOM Exception 11")}else z._supset&&z._supset.call(this,arguments)}}),A=k.defineNodeNameProperty("input","valueAsDate",{get:function(){var a=
p(this);return l[a]&&l[a].asDate&&!l[a].noAsDate?l[a].asDate(c.attr(this,"value")):A._supget&&A._supget.call(this)},set:function(a){var h=p(this);if(l[h]&&l[h].dateToString){if(a===null){c.attr(this,"value","");return""}h=l[h].dateToString(a);if(h!==false){c.attr(this,"value",h);return h}else k.warn("INVALID_STATE_ERR: DOM Exception 11")}else return A._supset&&A._supset(this,arguments)||null}}),s={number:{mismatch:function(a){return!r(a)},step:1,stepScaleFactor:1,asNumber:function(a){return r(a)?
a*1:t},numberToString:function(a){return r(a)?a:false}},range:{minDefault:0,maxDefault:100},date:{mismatch:function(a){if(!a||!a.split||!/\d$/.test(a))return true;var h=a.split(/\u002D/);if(h.length!==3)return true;var f=false;c.each(h,function(m,u){if(!(r(u)||u&&u=="0"+u*1)){f=true;return false}});if(f)return f;if(h[0].length!==4||h[1].length!=2||h[1]>12||h[2].length!=2||h[2]>33)f=true;return a!==this.dateToString(this.asDate(a,true))},step:1,stepScaleFactor:864E5,asDate:function(a,h){if(!h&&this.mismatch(a))return null;
return new Date(this.asNumber(a,true))},asNumber:function(a,h){var f=t;if(h||!this.mismatch(a)){a=a.split(/\u002D/);f=Date.UTC(a[0],a[1]-1,a[2])}return f},numberToString:function(a){return r(a)?this.dateToString(new Date(a*1)):false},dateToString:function(a){return a&&a.getFullYear?a.getUTCFullYear()+"-"+x(a.getUTCMonth()+1,2)+"-"+x(a.getUTCDate(),2):false}},time:{mismatch:function(a,h){if(!a||!a.split||!/\d$/.test(a))return true;a=a.split(/\u003A/);if(a.length<2||a.length>3)return true;var f=false,
m;if(a[2]){a[2]=a[2].split(/\u002E/);m=parseInt(a[2][1],10);a[2]=a[2][0]}c.each(a,function(u,e){if(!(r(e)||e&&e=="0"+e*1)||e.length!==2){f=true;return false}});if(f)return true;if(a[0]>23||a[0]<0||a[1]>59||a[1]<0)return true;if(a[2]&&(a[2]>59||a[2]<0))return true;if(m&&isNaN(m))return true;if(m)if(m<100)m*=100;else if(m<10)m*=10;return h===true?[a,m]:false},step:60,stepBase:0,stepScaleFactor:1E3,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?null:a},asNumber:function(a){var h=t;a=
this.mismatch(a,true);if(a!==true){h=Date.UTC("1970",0,1,a[0][0],a[0][1],a[0][2]||0);if(a[1])h+=a[1]}return h},dateToString:function(a){if(a&&a.getUTCHours){var h=x(a.getUTCHours(),2)+":"+x(a.getUTCMinutes(),2),f=a.getSeconds();if(f!="0")h+=":"+x(f,2);f=a.getUTCMilliseconds();if(f!="0")h+="."+x(f,3);return h}else return false}},"datetime-local":{mismatch:function(a,h){if(!a||!a.split||(a+"special").split(/\u0054/).length!==2)return true;a=a.split(/\u0054/);return l.date.mismatch(a[0])||l.time.mismatch(a[1],
h)},noAsDate:true,asDate:function(a){a=new Date(this.asNumber(a));return isNaN(a)?null:a},asNumber:function(a){var h=t,f=this.mismatch(a,true);if(f!==true){a=a.split(/\u0054/)[0].split(/\u002D/);h=Date.UTC(a[0],a[1]-1,a[2],f[0][0],f[0][1],f[0][2]||0);if(f[1])h+=f[1]}return h},dateToString:function(a,h){return l.date.dateToString(a)+"T"+l.time.dateToString(a,h)}}};if(!Modernizr.input.valueAsNumberSet||!w("number"))k.addInputType("number",s.number);if(!Modernizr.input.valueAsNumberSet||!w("range"))k.addInputType("range",
c.extend({},s.number,s.range));if(!Modernizr.input.valueAsNumberSet||!w("date"))k.addInputType("date",s.date);if(!Modernizr.input.valueAsNumberSet||!w("time"))k.addInputType("time",c.extend({},s.date,s.time));if(!Modernizr.input.valueAsNumberSet||!w("datetime-local"))k.addInputType("datetime-local",c.extend({},s.date,s.time,s["datetime-local"]))}});
jQuery.webshims.ready("forms-ext dom-support",function(c,k,t,l){var r=k.triggerInlineForm;t=Modernizr.inputtypes;var w=function(e,d){var b={w:e.width()};if(b.w){var i={mL:parseInt(d.css("marginLeft"),10)||0,w:d.outerWidth()};b.mR=parseInt(e.css("marginRight"),10)||0;b.mR&&e.css("marginRight",0);if(i.mL<=i.w*-1){d.css("marginRight",Math.floor(Math.abs(i.w+i.mL)+b.mR));e.css("paddingRight",(parseInt(e.css("paddingRight"),10)||0)+Math.abs(i.mL));e.css("width",Math.floor(b.w+i.mL))}else{d.css("marginRight",
b.mR);e.css("width",Math.floor(b.w-i.mL-i.w))}}},p=c.webshims.cfg["forms-ext"],y={dateFormat:"yy-mm-dd"},x,z,A=c([]),s,a=function(e,d){c("input",e).add(d.filter("input")).each(function(){var b=c.attr(this,"type");a[b]&&!c.data(this,"inputUIReplace")&&a[b](c(this))})},h=function(e,d){if(p.lazyDate){var b=c.data(e[0],"setDateLazyTimer");b&&clearTimeout(b);c.data(e[0],"setDateLazyTimer",setTimeout(function(){e.datepicker("setDate",d);c.removeData(e[0],"setDateLazyTimer");e=null},0))}else e.datepicker("setDate",
d)};a.common=function(e,d,b){Modernizr.formvalidation&&e.bind("firstinvalid",function(o){clearTimeout(x);s||(x=setTimeout(function(){!s&&!o.isInvalidUIPrevented()&&k.validityAlert.showFor(o.target)},20))});var i=e.attr("id");i={css:{marginRight:e.css("marginRight"),marginLeft:e.css("marginLeft")},outerWidth:e.outerWidth(),label:i?c('label[for="'+i+'"]',e[0].form):A};var q=k.getID(i.label);d.addClass(e[0].className).data("html5element",e);e.after(d).data("inputUIReplace",{visual:d,methods:b}).hide();
if(d.length==1&&!c("*",d)[0]){d.attr("aria-labeledby",q);i.label.bind("click",function(){d.focus();return false})}return i};Modernizr.formvalidation&&["input","form"].forEach(function(e){var d=k.defineNodeNameProperty(e,"checkValidity",{value:function(){s=true;var b=d._supvalue.apply(this,arguments);s=false;return b}})});if(!t["datetime-local"]||p.replaceUI){var f={trigger:[0.595,0.395],normal:[0.565,0.425]},m=!c.browser.msie||parseInt(c.browser.version,10)>6?0:0.45;a["datetime-local"]=function(e){if(c.fn.datepicker){var d=
c('<span role="group" class="input-datetime-local"><input type="text" class="input-datetime-local-date" /><input type="time" class="input-datetime-local-time" /></span>'),b=this.common(e,d,a["datetime-local"].attrs),i=c("input.input-datetime-local-date",d),q=i.datepicker(c.extend(y,p.datepicker,e.data("datepicker"))).bind("change",function(j){var n=i.attr("value")||"",g="";if(p.lazyDate){var v=c.data(i[0],"setDateLazyTimer");if(v){clearTimeout(v);c.removeData(i[0],"setDateLazyTimer")}}if(n){g=c("input.input-datetime-local-time",
d).attr("value")||"00:00";try{n=(n=c.datepicker.parseDate(i.datepicker("option","dateFormat"),n))?c.datepicker.formatDate("yy-mm-dd",n):i.attr("value")}catch(B){n=i.attr("value")}}n=!n&&!g?"":n+"T"+g;a["datetime-local"].blockAttr=true;e.attr("value",n);a["datetime-local"].blockAttr=false;j.stopImmediatePropagation();r(e[0],"input");r(e[0],"change")}).data("datepicker");q.dpDiv.addClass("input-date-datepicker-control").css({fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily")});c("input.input-datetime-local-time",
d).bind("change",function(j){var n=c.attr(this,"value"),g=["",""];if(n){g=e.attr("value").split("T");if(g.length<2||!g[0])g[0]=c.datepicker.formatDate("yy-mm-dd",new Date);if(g[1]=n)try{i.attr("value",c.datepicker.formatDate(i.datepicker("option","dateFormat"),c.datepicker.parseDate("yy-mm-dd",g[0])))}catch(v){}}g=!g[0]&&!g[1]?"":g.join("T");a["datetime-local"].blockAttr=true;e.attr("value",g);a["datetime-local"].blockAttr=false;j.stopImmediatePropagation();r(e[0],"input");r(e[0],"change")});c("input",
d).data("html5element",c.data(d[0],"html5element"));d.attr("aria-labeledby",b.label.attr("id"));b.label.bind("click",function(){i.focus();return false});if(b.css){d.css(b.css);if(b.outerWidth){d.outerWidth(b.outerWidth);b=d.width();var o=q.trigger[0]?f.trigger:f.normal;i.outerWidth(Math.floor(b*o[0]-m),true);c("input.input-datetime-local-time",d).outerWidth(Math.floor(b*o[1]-m),true);q.trigger[0]&&w(i,q.trigger)}}k.triggerDomUpdate(d[0]);z&&c.each(["disabled","min","max","value","step"],function(j,
n){e.attr(n,function(g,v){return v||""})})}};a["datetime-local"].attrs={disabled:function(e,d,b){c("input.input-datetime-local-date",d).attr("disabled",!!b);c("input.input-datetime-local-time",d).attr("disabled",!!b)},step:function(e,d,b){c("input.input-datetime-local-time",d).attr("step",b)},min:function(e,d,b){b=b.split?b.split("T"):[];try{b=c.datepicker.parseDate("yy-mm-dd",b[0])}catch(i){b=false}b&&c("input.input-datetime-local-date",d).datepicker("option","minDate",b)},max:function(e,d,b){b=
b.split?b.split("T"):[];try{b=c.datepicker.parseDate("yy-mm-dd",b[0])}catch(i){b=false}b&&c("input.input-datetime-local-date",d).datepicker("option","maxDate",b)},value:function(e,d,b){var i;b=b.split?b.split("T"):[];try{i=c.datepicker.parseDate("yy-mm-dd",b[0])}catch(q){i=false}if(i){a["datetime-local"].blockAttr||h(c("input.input-datetime-local-date",d),i);c("input.input-datetime-local-time",d).attr("value",b[1]||"00:00")}else{c("input.input-datetime-local-date",d).attr("value",b[0]||"");c("input.input-datetime-local-time",
d).attr("value",b[1]||"")}}};a.date=function(e){if(c.fn.datepicker){var d=c('<input type="text" class="input-date" />'),b=this.common(e,d,a.date.attrs),i=d.datepicker(c.extend(y,p.datepicker,e.data("datepicker"))).bind("change",function(q){a.date.blockAttr=true;var o;if(p.lazyDate){var j=c.data(d[0],"setDateLazyTimer");if(j){clearTimeout(j);c.removeData(d[0],"setDateLazyTimer")}}try{o=(o=c.datepicker.parseDate(d.datepicker("option","dateFormat"),d.attr("value")))?c.datepicker.formatDate("yy-mm-dd",
o):d.attr("value")}catch(n){o=d.attr("value")}e.attr("value",o);a.date.blockAttr=false;q.stopImmediatePropagation();r(e[0],"input");r(e[0],"change")}).data("datepicker");i.dpDiv.addClass("input-date-datepicker-control").css({fontSize:d.css("fontSize"),fontFamily:d.css("fontFamily")});if(b.css){d.css(b.css);b.outerWidth&&d.outerWidth(b.outerWidth);i.trigger[0]&&w(d,i.trigger)}z&&c.each(["disabled","min","max","value"],function(q,o){e.attr(o,function(j,n){return n||""})})}};a.date.attrs={disabled:function(e,
d,b){d.attr("disabled",!!b)},min:function(e,d,b){try{b=c.datepicker.parseDate("yy-mm-dd",b)}catch(i){b=false}b&&d.datepicker("option","minDate",b)},max:function(e,d,b){try{b=c.datepicker.parseDate("yy-mm-dd",b)}catch(i){b=false}b&&d.datepicker("option","maxDate",b)},value:function(e,d,b){if(!a.date.blockAttr){try{var i=c.datepicker.parseDate("yy-mm-dd",b)}catch(q){i=false}i?h(d,i):d.attr("value",b)}}}}if(!t.range||p.replaceUI){a.range=function(e){if(c.fn.slider){var d=c('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>'),
b=this.common(e,d,a.range.attrs),i=function(q,o){if(q.originalEvent){a.range.blockAttr=true;e.attr("value",o.value);a.range.blockAttr=false;q.type=="slidechange"?r(e[0],"change"):r(e[0],"input")}};c("span",d).attr("aria-labeledby",b.label.attr("id"));b.label.bind("click",function(){c("span",d).focus();return false});if(b.css){d.css(b.css);b.outerWidth&&d.outerWidth(b.outerWidth)}d.slider(c.extend({},p.slider,e.data("slider"),{change:i,slide:i}));c.each(["disabled","min","max","value","step"],function(q,
o){e.attr(o,function(j,n){return n||""})})}};a.range.attrs={disabled:function(e,d,b){b=!!b;d.slider("option","disabled",b);c("span",d).attr({"aria-disabled":b+"",tabindex:b?"-1":"0"})},min:function(e,d,b){b=b?b*1||0:0;d.slider("option","min",b);c("span",d).attr({"aria-valuemin":b})},max:function(e,d,b){b=b||b===0?b*1||100:100;d.slider("option","max",b);c("span",d).attr({"aria-valuemax":b})},value:function(e,d,b){b=c(e).attr("valueAsNumber");if(isNaN(b)){b=(d.slider("option","max")-d.slider("option",
"min"))/2;e.value=b}a.range.blockAttr||d.slider("option","value",b);c("span",d).attr({"aria-valuenow":b,"aria-valuetext":b})},step:function(e,d,b){b=b&&c.trim(b)?b*1||1:1;d.slider("option","step",b)}}}if(Modernizr.input.valueAsNumberSet&&Modernizr.input.valueAsDate&&(p.replaceUI||!Modernizr.inputtypes["datetime-local"]||!Modernizr.inputtypes.range)){t=function(){c.data(this,"inputUIReplace")&&c.attr(this,"value",c.attr(this,"value"))};k.onNodeNamesPropertyModify("input","valueAsNumber",t);k.onNodeNamesPropertyModify("input",
"valueAsDate",t)}c.each(["disabled","min","max","value","step"],function(e,d){k.onNodeNamesPropertyModify("input",d,{set:function(b){var i=c.data(this,"inputUIReplace");i&&i.methods[d]&&i.methods[d](this,i.visual,b)}})});if(!p.availabeLangs)p.availabeLangs="af ar ar-DZ az bg bs ca cs da de el en-AU en-GB en-NZ eo es et eu fa fi fo fr fr-CH gl he hr hu hy id is it ja ko kz lt lv ml ms nl no pl pt-BR rm ro ru sk sl sq sr sr-SR sv ta th tr uk vi zh-CN zh-HK zh-TW".split(" ");var u=function(e){z=true;
if(e){c.extend(y,e,p.datepicker);c("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option",y).each(function(){var d=c.data(this,"html5element");d&&c.each(["disabled","min","max","value","step"],function(b,i){d.attr(i,function(q,o){return o||""})})})}};t=function(){if(c.datepicker){k.ready("webshimLocalization",function(){k.activeLang(c.datepicker.regional,"forms-ext",u,function(){z=true})});c(l).unbind("jquery-uiReady.langchange input-widgetsReady.langchange")}};
c(l).bind("jquery-uiReady.langchange input-widgetsReady.langchange",t);t();(function(){if(!Modernizr.input.valueAsNumber){var e=k.modules["forms-ext"].options,d=k.inputTypes,b=function(j,n,g){g=g||{};if(!("type"in g))g.type=c.attr(j,"type");if(!("step"in g))g.step=k.getStep(j,g.type);if(!("valueAsNumber"in g))g.valueAsNumber=d[g.type].asNumber(c.attr(j,"value"));var v=g.step=="any"?d[g.type].step*d[g.type].stepScaleFactor:g.step;k.addMinMaxNumberToCache("min",c(j),g);k.addMinMaxNumberToCache("max",
c(j),g);if(isNaN(g.valueAsNumber))g.valueAsNumber=d[g.type].stepBase||0;if(g.step!=="any")if((j=Math.round((g.valueAsNumber-(g.minAsnumber||0))%g.step*1E7)/1E7)&&Math.abs(j)!=g.step)g.valueAsNumber-=j;j=g.valueAsNumber+v*n;if(!isNaN(g.minAsNumber)&&j<g.minAsNumber)j=g.valueAsNumber*n<g.minAsNumber?g.minAsNumber:isNaN(g.maxAsNumber)?Number.MAX_VALUE:g.maxAsNumber;else if(!isNaN(g.maxAsNumber)&&j>g.maxAsNumber)j=g.valueAsNumber*n>g.maxAsNumber?g.maxAsNumber:isNaN(g.minAsNumber)?Number.MIN_VALUE:g.minAsNumber;
return Math.round(j*1E7)/1E7};k.modules["forms-ext"].getNextStep=b;var i=function(j,n,g){if(!(j.disabled||j.readOnly||c(g).hasClass("step-controls"))){c.attr(j,"value",d[n].numberToString(b(j,c(g).hasClass("step-up")?1:-1,{type:n})));c(j).unbind("blur.stepeventshim");r(j,"input");if(l.activeElement){if(l.activeElement!==j)try{j.focus()}catch(v){}setTimeout(function(){if(l.activeElement!==j)try{j.focus()}catch(B){}c(j).one("blur.stepeventshim",function(){r(j,"change")})},0)}}};if(e.stepArrows){var q=
{set:function(){var j=c.data(this,"step-controls");if(j)j[this.disabled||this.readonly?"addClass":"removeClass"]("disabled-step-control")}};k.onNodeNamesPropertyModify("input","disabled",q);k.onNodeNamesPropertyModify("input","readonly",c.extend({},q))}var o={38:1,40:-1};k.addReady(function(j,n){e.stepArrows&&c("input",j).add(n.filter("input")).each(function(){var g=c.attr(this,"type");if(!(!d[g]||!d[g].asNumber||!e.stepArrows||e.stepArrows!==true&&!e.stepArrows[g]||c(this).hasClass("has-step-controls"))){var v=
this,B=c('<span class="step-controls" unselectable="on"><span class="step-up" /><span class="step-down" /></span>').insertAfter(this).bind("selectstart dragstart",function(){return false}).bind("mousedown mousepress",function(C){i(v,g,C.target);return false}),D=c(this).addClass("has-step-controls").data("step-controls",B).attr({readonly:this.readOnly,disabled:this.disabled,autocomplete:"off",role:"spinbutton"}).bind(c.browser.msie?"keydown":"keypress",function(C){if(!(this.disabled||this.readOnly||
!o[C.keyCode])){c.attr(this,"value",d[g].numberToString(b(this,o[C.keyCode],{type:g})));r(this,"input");return false}});if(e.calculateWidth){w(D,B);B.css("marginTop",(D.outerHeight()-B.outerHeight())/2)}}})})}})();k.addReady(function(e,d){c(l).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",function(){if(c.datepicker||c.fn.slider)a(e,d);c.datepicker&&c.fn.slider&&c(l).unbind(".initinputui")})})});
